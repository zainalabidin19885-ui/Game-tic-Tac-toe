<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tic Tac Toe vs Bot</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #000000; /* Tema hitam */
            color: #ffffff; /* Teks putih */
            margin: 0;
            padding: 20px;
            text-align: center;
        }
        h1 {
            color: #ffffff;
            border-bottom: 2px solid #8B0000; /* Aksen merah */
            padding-bottom: 10px;
        }
        .description {
            margin: 20px auto;
            max-width: 600px;
            font-size: 16px;
            line-height: 1.5;
        }
        .score {
            margin: 20px 0;
            font-size: 18px;
        }
        .board {
            display: grid;
            grid-template-columns: repeat(3, 100px);
            grid-template-rows: repeat(3, 100px);
            gap: 5px;
            margin: 20px auto;
            max-width: 315px;
        }
        .cell {
            background-color: #111111;
            border: 2px solid #8B0000; /* Border merah */
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            cursor: pointer;
            color: #ffffff;
        }
        .cell:hover {
            background-color: #222222;
        }
        button {
            background-color: #8B0000; /* Button merah */
            color: #ffffff;
            border: none;
            padding: 10px 20px;
            margin: 10px;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #B22222; /* Hover lebih terang */
        }
        #status {
            font-size: 18px;
            margin: 20px 0;
        }
    </style>
</head>
<body>
    <h1>Tic Tac Toe vs Bot</h1>
    <div class="description">
        Selamat datang di game Tic Tac Toe! Anda bermain sebagai X, dan bot sebagai O. Klik sel kosong untuk memilih langkah. Bot akan merespons secara otomatis. Coba kalahkan bot dan lihat skor Anda!
    </div>
    <div class="score" id="score">Skor: Pemain 0 - Bot 0 - Draw 0</div>
    <div id="status">Giliran Anda (X)</div>
    <div class="board" id="board">
        <div class="cell" data-index="0"></div>
        <div class="cell" data-index="1"></div>
        <div class="cell" data-index="2"></div>
        <div class="cell" data-index="3"></div>
        <div class="cell" data-index="4"></div>
        <div class="cell" data-index="5"></div>
        <div class="cell" data-index="6"></div>
        <div class="cell" data-index="7"></div>
        <div class="cell" data-index="8"></div>
    </div>
    <button onclick="resetGame()">Reset Game</button>
    
    <script>
        const board = document.getElementById('board');
        const cells = document.querySelectorAll('.cell');
        const status = document.getElementById('status');
        const scoreDisplay = document.getElementById('score');
        let currentPlayer = 'X'; // Pemain manusia
        let gameActive = true;
        let gameState = ['', '', '', '', '', '', '', '', ''];
        let scores = JSON.parse(localStorage.getItem('ticTacToeScores')) || { player: 0, bot: 0, draw: 0 };

        const winningConditions = [
            [0, 1, 2],
            [3, 4, 5],
            [6, 7, 8],
            [0, 3, 6],
            [1, 4, 7],
            [2, 5, 8],
            [0, 4, 8],
            [2, 4, 6]
        ];

        function updateScoreDisplay() {
            scoreDisplay.textContent = `Skor: Pemain ${scores.player} - Bot ${scores.bot} - Draw ${scores.draw}`;
            localStorage.setItem('ticTacToeScores', JSON.stringify(scores));
        }

        function handleCellClick(event) {
            const clickedCell = event.target;
            const clickedCellIndex = parseInt(clickedCell.getAttribute('data-index'));

            if (gameState[clickedCellIndex] !== '' || !gameActive || currentPlayer !== 'X') {
                return;
            }

            gameState[clickedCellIndex] = currentPlayer;
            clickedCell.textContent = currentPlayer;

            checkResult();
            if (gameActive) {
                setTimeout(botMove, 500); // Bot bergerak setelah 0.5 detik
            }
        }

        function botMove() {
            const availableCells = gameState.map((cell, index) => cell === '' ? index : null).filter(index => index !== null);
            if (availableCells.length === 0) return;

            const randomIndex = availableCells[Math.floor(Math.random() * availableCells.length)];
            gameState[randomIndex] = 'O';
            cells[randomIndex].textContent = 'O';

            checkResult();
        }

        function checkResult() {
            let roundWon = false;
            let winner = '';
            for (let i = 0; i < winningConditions.length; i++) {
                const winCondition = winningConditions[i];
                let a = gameState[winCondition[0]];
                let b = gameState[winCondition[1]];
                let c = gameState[winCondition[2]];
                if (a === '' || b === '' || c === '') {
                    continue;
                }
                if (a === b && b === c) {
                    roundWon = true;
                    winner = a;
                    break;
                }
            }

            if (roundWon) {
                if (winner === 'X') {
                    status.textContent = 'Anda menang!';
                    scores.player++;
                } else {
                    status.textContent = 'Bot menang!';
                    scores.bot++;
                }
                gameActive = false;
                updateScoreDisplay();
                return;
            }

            let roundDraw = !gameState.includes('');
            if (roundDraw) {
                status.textContent = 'Draw!';
                scores.draw++;
                gameActive = false;
                updateScoreDisplay();
                return;
            }

            currentPlayer = currentPlayer === 'X' ? 'O' : 'X';
            status.textContent = currentPlayer === 'X' ? 'Giliran Anda (X)' : 'Giliran Bot (O)';
        }

        function resetGame() {
            gameActive = true;
            currentPlayer = 'X';
            gameState = ['', '', '', '', '', '', '', '', ''];
            status.textContent = 'Giliran Anda (X)';
            cells.forEach(cell => cell.textContent = '');
        }

        updateScoreDisplay(); // Tampilkan skor awal
        cells.forEach(cell => cell.addEventListener('click', handleCellClick));
    </script>
</body>
</html>
